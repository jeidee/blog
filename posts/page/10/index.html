<!DOCTYPE html>
<html lang="ko-kr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Erlang &amp; Go </title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.51" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.e08a958ae3e530145318b6373195c765.css" rel="stylesheet">
    

    

    
      
    

    
      <link href="https://jeidee.github.io/posts/index.xml" rel="alternate" type="application/rss+xml" title="Erlang &amp; Go" />
      <link href="https://jeidee.github.io/posts/index.xml" rel="feed" type="application/rss+xml" title="Erlang &amp; Go" />
    

    <meta property="og:title" content="Posts" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://jeidee.github.io/posts/" />
<meta property="og:updated_time" content="2015-05-18T00:00:00&#43;00:00"/>

<meta itemprop="name" content="Posts">
<meta itemprop="description" content="">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://jeidee.github.io/" class="f3 fw2 hover-white no-underline white-90 dib">
      Erlang &amp; Go
    </a>
    <div class="flex-l items-center">
      
      









    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Posts
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <article class="pa3 pa4-ns nested-copy-line-height nested-img">
  <main class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray"></main>
    <section class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/2015/05/18/ios-dispatch_async-ebb984eb8f99eab8b0-ecb298eba6aced9598eab8b0" class="link black dim">
        ios dispatch_async 비동기 처리하기
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      장시간을 요하는 작업을 UI 쓰레드에서 요청할 경우 UI 쓰레드가 블럭되기 때문에 사용자는 불편을 느끼게 된다.
이러한 경우, 별도의 쓰레드에서 작업을 수행 후 처리가 완료되면 UI 쓰레드로 결과를 돌려주는 방식(비동기)을 사용해야 한다.
android에서는 AsyncTask를 사용하면되고 ios의 경우에는 GCD(Grand Central Dispatch)를 사용하면 된다.
GCD 중에서 dispatch_async를 사용해 무거운 작업을 백그라운드 쓰레드에서 실행 후 실행완료된 결과를 UI쓰레드에서 처리하는 예제를 살펴보자.
mLoginView.hidden = YES; mActivityIndicator.hidden = NO; [mActivityIndicator startAnimating]; dispatch\_async(dispatch\_get\_global\_queue(DISPATCH\_QUEUE\_PRIORITY_DEFAULT, 0), ^{ bool success = TALK_CLIENT-&gt;connect(jid, pwd, host, port); dispatch\_async(dispatch\_get\_main\_queue(), ^ { if (success) { [self performSegueWithIdentifier:@&quot;moveFromLoginToTabBar&quot; sender:nil]; } else { [mLbError setText:@&quot;로그인 실패&quot;]; mLoginView.
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/2015/05/18/osx-ec9ca0ec9aa9ed959c-ebaa85eba0b9ec96b4" class="link black dim">
        osx 유용한 명령어
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Dock Dealy 없애기
 defaults write com.apple.Dock autohide-delay -float 0 &amp;&amp; killall Dock  미션 컨트롤 화면 전환 속도를 보다 빠르게
 defaults write com.apple.dock expose-animation-duration -float 0.12 &amp;&amp; killall Dock  숨겨진 APP 아이콘 DOCK에서 쉽게 구별 하기
 defaults write com.apple.Dock showhidden -bool YES &amp;&amp; killall Dock  OSX 메일에서 EMAIL 주소 대신 이름으로 가리는 문제 해결 하기
 defaults write com.apple.mail AddressesIncludeNameOnPasteboard -bool false  미리보기에서 문자열 선택 가능 하기
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/2015/05/14/ios-storyboardec9790ec849c-ecbba8ed8ab8eba1a4ec9d98-ec9c84ecb998eab080-ec9d98eb8f84ed959ceb8c80eba19c-ecb69ceba0a5eb9098eca780-ec958aec9d84" class="link black dim">
        ios storyboard에서 컨트롤의 위치가 의도한대로 출력되지 않을 때
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       Auto Layout을 사용해 컨트롤에 Constraints를 추가해도 의도한대로 출력되지 않는 경우가 있다.
이럴 경우 다음과 같이 스토리보드 레이아웃이 제대로 설정되어 있는지 확인한다.
위 이미지의 설정은 iPhone의 각 스크린 인치별 portrait와 landscape를 지원한다.
참고  Auto Layout #2. Auto Layout with Storyboard  
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/2015/05/13/backoff-ec958ceab3a0eba6aceca698" class="link black dim">
        Backoff 알고리즘
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      연결 재접속이나 데이터 재전송을 위한 Backoff 알고리즘을 java로 구현해 본다.
&lt;br /&gt;public class BackoffManager { private int mMaxRetryCount = 10; // 최대 재시도 횟수 private int mInitWaitBackoffSeconds = 2; // 현재 재시도 간격(단위: 초) private boolean mNoGiveupAndRepeat = false; // 최대 재시도 횟수를 초과할 경우 재시도 포기여부 private int mRetryCount; private int mWaitBackoffSeconds; private int mRepeatCycle; // 최대 재시도횟수를 초과한 횟수 public void init(int maxRetryCount, int initWaitBackoffSeconds, boolean noGiveupAndRepeat) { mMaxRetryCount = maxRetryCount; mInitWaitBackoffSeconds = initWaitBackoffSeconds; mNoGiveupAndRepeat = noGiveupAndRepeat; mRetryCount = 0; mWaitBackoffSeconds = mInitWaitBackoffSeconds; } // 연결이 완료되면 백오프 리셋 public void reset() { mRetryCount = 0; mWaitBackoffSeconds = mInitWaitBackoffSeconds; } public boolean retry() throws InterruptedException { if (mNoGiveupAndRepeat == false &amp;&amp; mRepeatCycle &gt; 0) { return false; } mRetryCount++; mWaitBackoffSeconds *= 2; if (mRetryCount &gt; mMaxRetryCount) { mRetryCount = 0; mWaitBackoffSeconds = mInitWaitBackoffSeconds; mRepeatCycle++; } // 대기 Thread.
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/2015/05/13/c-gettickcount-on-linux" class="link black dim">
        c&#43;&#43; GetTickCount() on linux
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      gettimeofday()는 향후 제거될 함수이며 권장되지 않기 때문에 clock_gettime()을 사용한 방법을 사용하도록 한다.
특히 경과시간을 구하고자할 때 현재 시간을 반환하는 gettimeofday()함수는 시각 조정에 의한 오차가 발생할 수 있고 쓰레드에 안전하지 않으므로,
clock_gettime()에 CLOCK_MONOTONIC(uptime) 옵션을 사용해서 사용하는 것이 좋다.
clock_gettime()은 쓰레드에 안전하다.
#include &lt;unistd.h&gt; #include &lt;time.h&gt; uint32_t getTick() { struct timespec ts; unsigned theTick = 0U; clock\_gettime( CLOCK\_MONOTONIC, &amp;ts ); theTick = ts.tv_nsec / 1000000; theTick += ts.tv_sec * 1000; return theTick; }  osx에서는 clock_gettime()을 사용할 수 없으므로 다음과 같이 코드한다.
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/2015/05/13/ios-ec8aa4ed86a0eba6acebb3b4eb939cec9d98-segueeba5bc-ecbd94eb939ceba19c-ec9e91eb8f99ec8b9ced82a4eab8b0" class="link black dim">
        ios 스토리보드의 segue를 코드로 작동시키기
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      스토리보드(Main.storyboard)를 다음과 같이 작성했다고 가정해 보자.
 =&gt;(Entry) Login View Controller =&gt;(Segue id: moveToTabBar) Tab Bar Controller  Entry 뷰는 Login View이다.
Login View에서 Tab Bar Controller로 이동하는 seque를 생성한 후 Attributes Inspector에서 Identifier값을 &#8220;moveToTabBar&#8221;로 수정한다.
그리고 이동하고자 하는 지점의 코드에서 다음과 같이 작성하면 된다.
[self performSegueWithIdentifier:@&quot;moveToTabController&quot; sender:nil];  
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/2015/05/12/android-orientationec9db4-ebb380eab2bdeb90a0-eb958c-ed83adebb094ec9d98-ec9584ec9db4ecbd98ec9db4-ec9786ec96b4eca788-eb958c" class="link black dim">
        android orientation이 변경될 때 탭바의 아이콘이 없어질 때
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       최신 android 버전(API 22)에서는 문제가 없어 보이지만 특정 버전(API 16, Android 4.1.2)에서 아이콘이 사라지는 문제가 발생한다.
해결책은 AndriodManifest.xml에서 해당 Activity의 configChanges 어트리뷰트에서 orientation을 제거하면 되는데,
근본적인 해결책이라고 볼 순 없는 것 같다.
 &lt;activity android:name=&quot;.ui.MainActivity&quot; &lt;!&amp;#8211;android:configChanges=&quot;orientation|screenSize&quot;&amp;#8211;&gt; android:label=&quot;@string/app_name&quot; &gt; &lt;/activity&gt;  참고  Custom tab view vanishes after orientation change  
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/2015/05/05/java-genericec9790ec849c-t-class-ec82acec9aa9ed9598eab8b0" class="link black dim">
        java generic에서 T.class 사용하기
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Class 클래스는 T 클래스의 메타정보를 갖는 클래스이다.
T가 Temp라는 사용자 정의 클래스라고 할 때,
Temp.class와 Class.forName(&#8220;com.example.Temp&#8221;)은 Class 오브젝트를 반환한다.
이 Class 오브젝트를 사용해 Temp 클래스의 인스턴스를 생성할 수 있고, 메소드와 필드를 Reflection할 수 있다.
Class를 사용해 T의 새로운 인스턴스를 생성하고자 할 때는 다음과 같이 newInstance()를 사용할 수 있다.
Temp temp = (Temp) Temp.class.newInstance(); Temp temp2 = (Temp) Class.forName(&quot;com.example.Temp&quot;).newInstance();  문제는 다음과 같은 Generic 클래스를 정의할 때 타입 T의 Class 오브젝트를 T.
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/2015/05/04/android-cannot-load-library-error" class="link black dim">
        android cannot load library error
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      ndk build후 의존성 있는 .so 라이브러리를 일부 폰에서 로드하지 못할 경우 다음과 같이 수정해 본다.
static { System.loadLibrary(&quot;gloox_lib&quot;); System.loadLibrary(&quot;msg_lib&quot;); }  일부 폰(sdk 22)에서는 msg_lib만 로드하면 되지만, 일부 폰(sdk 16)에서는 msg_lib가 의존하는 gloox_lib를 로드하지 못하는 경우가 발생한다.
이럴 경우 위와 같이 의존성 있는 라이브러리를 함께 로드해주면 된다.
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/2015/05/04/android-orientationec9db4-ebb380eab2bdeb90a0-eb958c-eab090eca780ed9598eb8a94-ebb0a9ebb295" class="link black dim">
        android orientation이 변경될 때 감지하는 방법
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      별도의 작업 없이는 orientation이 변경될 때 감지할 수 없다.
orientation 변경을 감지할 수 있는 방법은 다음과 같이 두 가지가 있다.
1) Activity에서 단순히 landscape와 portrait감지만 필요한 경우
감지할 Activity에서 onConfigurationChanged() 함수를 override한다.
@Override public void onConfigurationChanged(Configuration newConfig) { super.onConfigurationChanged(newConfig); // Checks the orientation of the screen if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) { Toast.makeText(this, &quot;landscape&quot;, Toast.LENGTH_SHORT).show(); } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){ Toast.makeText(this, &quot;portrait&quot;, Toast.LENGTH_SHORT).show(); } }  위와 같이 추가한 후 빌드해서 실행해보면 제대로 동작하지 않는다.
    </div>
  </div>
</div>
</div>
      
    </section>

<ul class="pagination">
    
    <li class="page-item">
        <a href="/posts/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item">
    <a href="/posts/page/9/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/posts/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/posts/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/posts/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/posts/page/9/">9</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/posts/page/10/">10</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/posts/page/11/">11</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/posts/page/20/">20</a></li>
    
    
    <li class="page-item">
    <a href="/posts/page/11/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/posts/page/20/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>
</article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://jeidee.github.io/" >
    &copy; 2018 Erlang &amp; Go
  </a>
    <div>








</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
