<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>ios dispatch_async 비동기 처리하기</title>
	
	
	<link rel="stylesheet" href="https://jeidee.github.io/css/style.css">
	
	<meta name="generator" content="Hugo 0.31.1" />
</head>
<body>
	<header>
		<a href="https://jeidee.github.io/">Erlang &amp; Go</a>
		<nav>
			<ul>
				
			</ul>
		</nav>
	</header>
	<main>
		<article>
			<h1>ios dispatch_async 비동기 처리하기</h1>
			<time>18.05.2015 00:00</time>
			<div>
				

<p>장시간을 요하는 작업을 UI 쓰레드에서 요청할 경우 UI 쓰레드가 블럭되기 때문에 사용자는 불편을 느끼게 된다.</p>

<p>이러한 경우, 별도의 쓰레드에서 작업을 수행 후 처리가 완료되면 UI 쓰레드로 결과를 돌려주는 방식(비동기)을 사용해야 한다.</p>

<p>android에서는 AsyncTask를 사용하면되고 ios의 경우에는 GCD(Grand Central Dispatch)를 사용하면 된다.</p>

<p>GCD 중에서 dispatch_async를 사용해 무거운 작업을 백그라운드 쓰레드에서 실행 후 실행완료된 결과를 UI쓰레드에서 처리하는 예제를 살펴보자.</p>

<pre><code class="language-objc">      
mLoginView.hidden = YES;
      
mActivityIndicator.hidden = NO;
      
[mActivityIndicator startAnimating];

dispatch\_async(dispatch\_get\_global\_queue(DISPATCH\_QUEUE\_PRIORITY_DEFAULT, 0), ^{

bool success = TALK_CLIENT-&gt;connect(jid, pwd, host, port);

dispatch\_async(dispatch\_get\_main\_queue(), ^ {
              
if (success) {
                  
[self performSegueWithIdentifier:@&quot;moveFromLoginToTabBar&quot; sender:nil];
              
} else {
                  
[mLbError setText:@&quot;로그인 실패&quot;];
                  
mLoginView.hidden = NO;
                  
mActivityIndicator.hidden = YES;
              
}
          
});
      
});
  
</code></pre>

<p>dispatch_get_global_queue()는 커널에서 관리하는 Concurrent Dispatch Queue이며, 백그라운드에서 작업을 수행하고 큐에 저장된 작업을 병행 처리한다.</p>

<p>dispatch_get_main_queue()는 UI 쓰레드를 관리하는 메인 큐로 Serial Dispatch Queue로서 큐에 저장된 작업을 순차적으로 처리하게 된다.</p>

<h2 id="참고">참고</h2>

<ul>
<li><a href="http://padgom.tistory.com/entry/iOS-%EA%B8%B0%EB%B3%B8-GCDGrand-Central-Dispatch-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0">GCD(Grand Central Dispatch) 사용하기</a></li>
<li><a href="http://seorenn.blogspot.kr/2012/04/ios.html">iOS 특정 코드를 비동기로 실행시키기</a></li>
</ul>

			</div>
			<div>
				<ul id="tags">
					
					<li><a href="/tags/asynctask">asynctask</a> </li>
					
					<li><a href="/tags/dispatch_async">dispatch_async</a> </li>
					
					<li><a href="/tags/gcd">GCD</a> </li>
					
				</ul>
			</div>
			<div>
				
			</div>
		</article>
	</main>
	<aside>
		<div>
			<div>
				<h3>LATEST POSTS</h3>
			</div>
			<div>
				<ul>
					
					<li><a href="https://jeidee.github.io/2017/08/31/upstart-ec84a4eca095/">upstart 설정</a></li>
					
					<li><a href="https://jeidee.github.io/2017/06/08/centosec9790ec849c-mongodb-ec84a4ecb998ec9980-service-eb93b1eba19d/">CentOS에서 MongoDB 설치와 Service 등록</a></li>
					
					<li><a href="https://jeidee.github.io/2017/01/25/couchbase-cberlec9790-lcb_cntl-ed95a8ec8898-ecb694eab080/">couchbase cberl에 lcb_cntl 함수 추가</a></li>
					
					<li><a href="https://jeidee.github.io/2017/01/25/couchbase-cberlec9d98io-pluginec9d84-libeventeba19c-ebb380eab2bd/">couchbase cberl의IO Plugin을 libevent로 변경</a></li>
					
					<li><a href="https://jeidee.github.io/2017/01/25/ejabberdec9d98-deps-eb9dbcec9db4ebb88ceb9faceba6ac-ec8898eca095-ed9b84-ecbbb4ed8c8cec9dbcec9790ec849c-eb8884eb9dbdeb90a0-eb958c/">ejabberd의 deps 라이브러리 수정 후 컴파일에서 누락될 때</a></li>
					
				</ul>
			</div>
		</div>
	</aside>

	<footer>
		<p>&copy; 2017 <a href="https://jeidee.github.io/">Erlang &amp; Go</a></p>
	</footer>
</body>
</html>