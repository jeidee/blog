<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  	<meta property="og:title" content=" Elixir Sigils (#18/21) &middot;  Erlang &amp; Go" />
  	<meta property="og:site_name" content="Erlang &amp; Go" />
  	<meta property="og:url" content="https://jeidee.github.io/2015/06/19/elixir-sigils-1821/" />
    
    
  	<meta property="og:type" content="article" />

    <meta property="og:article:published_time" content="2015-06-19T00:00:00Z" />

    
    <meta property="og:article:tag" content="tutorial" />
    
    

  <title>
     Elixir Sigils (#18/21) &middot;  Erlang &amp; Go
  </title>

    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://jeidee.github.ioimages/favicon.ico">
	  <link rel="apple-touch-icon" href="https://jeidee.github.ioimages/apple-touch-icon.png" />
    
    <link rel="stylesheet" type="text/css" href="https://jeidee.github.iocss/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400|Inconsolata" />


    
      
          <link href="https://jeidee.github.ioindex.xml" rel="alternate" type="application/rss+xml" title="Erlang &amp; Go" />
      
      
    
    <meta name="generator" content="Hugo 0.31.1" />

    <link rel="canonical" href="https://jeidee.github.io/2015/06/19/elixir-sigils-1821/" />

    
<div id="particles-js"></div>
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script src="https://jeidee.github.iojs/particles.js"></script>   
</head>
<body class="nav-closed">

  


 <div class="site-wrapper">



<header class="main-header " style="background-image: url(https://jeidee.github.io)">
    
    <nav class="main-nav overlay clearfix">
        
        
    </nav>
<div class="vertical">
        <div class="main-header-content inner">
            <h1 class="page-title">
              <a class="btn-bootstrap-2" href="#content">Erlang &amp; Go</a>
          </h1>
          <h2 class="page-description"></h2>
        </div>
</div>
    <a class="scroll-down icon-arrow-left" href="#content"><span class="hidden">Scroll Down</span></a>
</header>

  <main id="content" class="content" role="main">


  <article class="post posts">

    <header class="post-header">
        <h1 class="post-title">Elixir Sigils (#18/21)</h1>
        <section class="post-meta">
        
         
          <span class="post-tag small"><a href="https://jeidee.github.iotags/tutorial/">#tutorial</a></span>
         
        </section>
    </header>
  
    <section class="post-content">
      

<blockquote>
<p>본 문서는 elixir-lang.org의 <a href="http://elixir-lang.org/getting-started/introduction.html">Getting Started</a>문서의 한글 번역본입니다.</p>

<p>자세한 내용은 원문을 참조해 주세요.</p>
</blockquote>

<p>우리는 이미 elixir의 문자열과 문자 리스트를 배웠다. 하지만, 언어에 있어 텍스트의 표현을 위한 구조의 겉면만 다루었을 뿐이다. atom을 예로 들면, 대부분 :atom 형식으로 표현되는 식이다.</p>

<p>elixir의 목표 중 하나는 확장성이다: elixir를 사용하면 개발자가 어떤 도메인에도 꼭 맞도록 언어를 확장할 수 있다. 개발자나, 회사, 또는 커뮤티니들이 그들과 관련된 도메인안에서 언어를 확장할 수 있도록 만들어졌다는 말이다.</p>

<p>이번 챕터에서 우리는, 텍스트 처리에 사용하는 매커니즘 중 하나인 <a href="https://en.wikipedia.org/wiki/Sigil_(computer_programming)">sigil &#8211; $foo에서 $와 같은 기호</a>에 대해서 알아볼 것이다. sigil은 틸드(~) 문자로 시작하는 문자열이며 선택적으로 시작과 끝 구분자를 가질 수 있다.</p>

<h2 id="regular-expressions">Regular expressions</h2>

<p>대표적인 sigil로는 ~r이 있는데, 정규표현식을 만들때 사용한다.</p>

<pre><code>  
\# A regular expression that matches strings which contain &quot;foo&quot; or &quot;bar&quot;:
  
iex&gt; regex = ~r/foo|bar/
  
~r/foo|bar/
  
iex&gt; &quot;foo&quot; =~ regex
  
true
  
iex&gt; &quot;bat&quot; =~ regex
  
false
  
</code></pre>

<p>elixir는 perl과 호환되는 정규 표현식(regexes)을 지원하는데 <a href="http://www.pcre.org/">PCRE</a> 라이브러리로 구현되어 있다. 정규 표현식은 변경자(modifier) 역시 지원한다. 예를 들어, i 변경자는 정규 표현식이 대소문자 구분을 하도록 한다.</p>

<pre><code>  
iex&gt; &quot;HELLO&quot; =~ ~r/hello/
  
false
  
iex&gt; &quot;HELLO&quot; =~ ~r/hello/i
  
true
  
</code></pre>

<p>정규 표현식에서 지원되는 다른 변경자와 기능(operation)을 살펴보고 싶다면 <a href="http://elixir-lang.org/docs/stable/elixir/#!Regex.html">Regex</a> 모듈을 확인해 보면 된다.</p>

<p>지금까지, 모든 예제는 정규 표현식에 / 구분자를 사용했다. 그 외에도 sigil은 8개의 다른 구분자(delimiter)를 지원한다.</p>

<pre><code>  
~r/hello/
  
~r|hello|
  
~r&quot;hello&quot;
  
~r'hello'
  
~r(hello)
  
~r[hello]
  
~r{hello}
  
~r
  
</code></pre>

<p>다른 구분자를 제공하는 이면에는 다른 구분자들이 다른 sigil에 더욱 적합하기 때문이다. 예를 들어, 정규 표현식을 위해 소괄호를 사용한다면 regex에 포함되는 소괄호와 혼동될 것이다. 어쨌든, 다음 섹션에서 살펴보겠지만, 소괄호는 다른 sigil에서 유용하다.</p>

<h2 id="strings-char-lists-and-words-sigils">Strings, char lists and words sigils</h2>

<p>정규 표현식 이외에도, elixir는 세 개의 다른 sigil을 포함한다.</p>

<h3 id="strings">Strings</h3>

<p>~s sigil은 문자열을 만들때 사용되는데, &#8220;&#8221;을 사용하는 것과 같다. ~s sigil은 안에 &#8220;&#8221;(double quotes)와 &#8221;(single quotes)를 포함해야 할 때 유용하게 사용될 수 있다.</p>

<pre><code>  
iex&gt; ~s(this is a string with &quot;double&quot; quotes, not 'single' ones)
  
&quot;this is a string with \&quot;double\&quot; quotes, not 'single' ones&quot;
  
</code></pre>

<h3 id="char-lists">Char lists</h3>

<p>~c sigil은 문자 리스트를 만들 때 사용한다.</p>

<pre><code>  
iex&gt; ~c(this is a char list containing 'single quotes')
  
'this is a char list containing \'single quotes\''
  
</code></pre>

<h3 id="word-lists">Word lists</h3>

<p>~w sigil은 단어 리스트(단어는 문자열이다.)를 만들때 사용한다. ~w sigil안에서, 단어는 공백으로 구분한다.</p>

<pre><code>  
iex&gt; ~w(foo bar bat)
  
[&quot;foo&quot;, &quot;bar&quot;, &quot;bat&quot;]
  
</code></pre>

<p>~w sigil은 c, s, a 변경자(각각 문자 리스트, 문자열, atom을 위한)를 사용할 수 있는데, 각 요소의 결과 데이터타입을 명시할 때 사용한다.</p>

<pre><code>  
iex&gt; ~w(foo bar bat)a
  
[:foo, :bar, :bat]
  
</code></pre>

<h2 id="interpolation-and-escaping-in-sigils">Interpolation and escaping in sigils</h2>

<p>소문자화(lowercase) sigil 이외에도, elixir는 대문자화(uppercase) sigil을 문자열 삽입(interpolation)에서 문자를 escape하기 위해 사용한다. ~s와 ~S는 문자열을 반환하며, 전자는 escape와 interpolation을 지원하며 후자는 지원하지 않는다.</p>

<pre><code>  
iex&gt; ~s(String with escape codes \x26 #{&quot;inter&quot; &quot;polation&quot;})
  
&quot;String with escape codes &amp; interpolation&quot;
  
iex&gt; ~S(String without escape codes and without #{interpolation})
  
&quot;String without escape codes and without \#{interpolation}&quot;
  
</code></pre>

<p>다음 escape 코드는 문자열과 문자리스트에서 사용된다.</p>

<ul>
<li>&#092;&rdquo; &#8211; double quote</li>
<li>&#092;&rsquo; &#8211; single quote</li>
<li>&#092;&#092; &#8211; single backslash</li>
<li>&#092;a &#8211; bell/alert</li>
<li>&#092;b &#8211; backspace</li>
<li>&#092;d &#8211; delete</li>
<li>&#092;e -escape</li>
<li>&#092;f &#8211; form feed</li>
<li>&#092;n &#8211; newline</li>
<li>&#092;r &#8211; carriage return</li>
<li>&#092;s &#8211; space</li>
<li>&#092;t &#8211; tab</li>
<li>&#092;v &#8211; vertical tab</li>
<li>&#092;0 &#8211; null byte</li>
<li>&#092;xDD &#8211; 16진수 표현(예, &#092;x13)</li>
<li>&#092;x{D&#8230;} &#8211; 16진수 숫자를 하나 이상 갖는 16진수 표현(예, &#092;x{abc13})</li>
</ul>

<p>sigil은 heredoc을 지원하며, 구분자로 &ldquo;&rdquo;&ldquo;나 &lsquo;를 사용한다.</p>

<pre><code>  
iex&gt; ~s&quot;&quot;&quot;
  
&amp;#8230;&gt; this is
  
&amp;#8230;&gt; a heredoc string
  
&amp;#8230;&gt; &quot;&quot;&quot;
  
</code></pre>

<p>heredoc sigil의 대표적인 사용예는 문서를 쓸 때 이다. 예를 들어, 문서에서 escape 문자를 쓰고자 할 때는 두번 적어야 한다.</p>

<pre><code>  
@doc &quot;&quot;&quot;
  
Converts double-quotes to single-quotes.

\## Examples

iex&gt; convert(&quot;\\\&quot;foo\\\&quot;&quot;)
      
&quot;'foo'&quot;

&quot;&quot;&quot;
  
def convert(&amp;#8230;)
  
</code></pre>

<p>~S를 사용하면 다음과 같이 작성할 수 있다.</p>

<pre><code>  
@doc ~S&quot;&quot;&quot;
  
Converts double-quotes to single-quotes.

\## Examples

iex&gt; convert(&quot;\&quot;foo\&quot;&quot;)
      
&quot;'foo'&quot;

&quot;&quot;&quot;
  
def convert(&amp;#8230;)
  
</code></pre>

<h2 id="custom-sigils">Custom sigils</h2>

<p>이번 챕터의 시작부분에서 준 힌트처럼, elixir의 sigil은 확장성이 있다. 사실, ~r/foo/i와 같은 sigil은 바이너리와 문자리스트를 매개변수로 사용하는 sigil_r 함수를 호출하는 것과 동등하다.</p>

<pre><code>  
iex&gt; sigil_r(&lt;&gt;, 'i')
  
~r&quot;foo&quot;i
  
</code></pre>

<p>우리는 sigil_r 함수를 통해, ~r sigil에 대한 문서에 접근할 수 있다.</p>

<pre><code>  
iex&gt; h sigil_r
  
&amp;#8230;
  
</code></pre>

<p>우리는 또한 sigil_{identifier} 패턴을 따르는 함수를 작성해서 우리 자신의 sigil을 만들 수도 있다. 예를 들어, 정수를 반환하는(음수를 만들기 위해 선택적으로 n 변경자를 갖는) ~i sigil을 만들어 보자.</p>

<pre><code>  
iex&gt; defmodule MySigils do
  
&amp;#8230;&gt; def sigil\_i(string, []), do: String.to\_integer(string)
  
&amp;#8230;&gt; def sigil\_i(string, [?n]), do: -String.to\_integer(string)
  
&amp;#8230;&gt; end
  
iex&gt; import MySigils
  
iex&gt; ~i(13)
  
13
  
iex&gt; ~i(42)n
  
-42
  
</code></pre>

<p>sigil은 매크로의 도움을 받아 컴파일 타임에 사용될 수 있다. 예를 들어, elixir의 정규 표현식이 소스코드의 컴파일 동안 컴파일된다면, 런타임에 이런 단계가 생략될 수 있다. 이 주제에 관심이 있다면, 매크로에 대해 더 자세히 배우길 권장하며, sigil이 Kernel 모듈(sigil_* 함수가 정의된 곳)에서 어떻게 구현되어 있는지 살펴볼 것을 권장한다.</p>

<h2 id="참고">참고</h2>

<ul>
<li><a href="http://elixir-lang.org/getting-started/sigils.html#strings%2C-char-lists-and-words-sigils">Elixir Sigils</a></li>
</ul>

    </section>


  <footer class="post-footer">


    

    





<section class="author">
  <h4><a href="https://jeidee.github.io"></a></h4>
  
  <p>Read <a href="https://jeidee.github.io">more posts</a> by this author.</p>
  
  <div class="author-meta">
    
    
  </div>
</section>



    
    <section class="share">
      <h4>Share this posts</h4>
      <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=Elixir%20Sigils%20%28%2318%2f21%29&amp;url=https%3a%2f%2fjeidee.github.io%2f2015%2f06%2f19%2felixir-sigils-1821%2f"
          onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
          <span class="hidden">Twitter</span>
      </a>
      <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjeidee.github.io%2f2015%2f06%2f19%2felixir-sigils-1821%2f"
          onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
          <span class="hidden">Facebook</span>
      </a>
      <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=https%3a%2f%2fjeidee.github.io%2f2015%2f06%2f19%2felixir-sigils-1821%2f"
         onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
          <span class="hidden">Google+</span>
      </a>
    </section>
    

    
    
    

  </footer>
</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Erlang &amp; Go</a> </section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="https://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/syui/hugo-theme-air">hugo-theme-air</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="https://jeidee.github.iojs/jquery.js"></script>
    <script type="text/javascript" src="https://jeidee.github.iojs/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://jeidee.github.iojs/index.js"></script>

</body>
</html>

